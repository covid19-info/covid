<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Cases GLOBAL</title>

		<style type="text/css">
.highcharts-figure, .highcharts-data-table table {
    min-width: 360px; 
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}

		</style>
	</head>
	<body>

<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/custom/world-palestine-lowres.js"></script>



<script src="highcharts.js"></script>
<script  src="./PolynomialRegression.js"></script>

<script src="big.js"></script>
<script src="ssci.js"></script>
<script src="lib_covid.js"></script>

<script src="customEvents.js"></script>

<figure class="highcharts-figure">

 <div id="container_map"></div>
    <div id="container"></div>


  	
    <p class="highcharts-description">
        
    </p>
</figure>




<script type="text/javascript">



// Create the chart

function buildChartMap() {

fc = Highcharts.mapChart('container_map', {
    chart: {
        map: 'custom/world-palestine-lowres',
        borderWidth: 0
    },

    title: {
        text: 'Covid trends by country'
    },
    
    subtitle: {
        text: 'Click by highlight country for detail forecast'
    },
    
    legend: {
        enabled: false
    },
    credits: {
            enabled: false
    },
    mapNavigation: {
        enabled: true,
        buttonOptions: {
            verticalAlign: 'bottom'
        }
    },

    plotOptions: {
    series: {
      events: {
        click: function(e) {
	  if (e.target.point.options.value==1) {	
            const url = e.target.point.options['hc-key']+".html";
            console.log(e.target.point);
            location.href= url;
	    }
	  }
        }
      }
    },

    series: [{
        name: 'Country',
        data: [
            ['us', 1],
            ['ru', 1],
            ['ua', 1],
            ['pl', 1],
            ['br', 1],
	    ['ae', 1],
	    ['tn', 1],
	    ['id', 1],
	    ['il', 1]
		
        ],
        dataLabels: {
            enabled: true,
            color: '#FFFFFF',
            formatter: function () {
                if (this.point.value) {
                    return this.point.name;
                }
            }
        },
        tooltip: {
            headerFormat: '',
            pointFormat: '{point.name}'
        }
    }]
});

 return fc;
};


 mm= buildChartMap();



	


var dstime=[];
startDate= "2020-01-22";
var dailyCases =                                    [null,271,475,701,787,1784,1479,1764,2016,2137,2626,2857,3253,3927,3728,3184,3453,2685,3004,2569,2057,14180,5174,2682,2132,2158,2031,1880,534,1034,1058,1038,628,993,861,1136,1459,1819,2206,2636,2615,3307,3169,4323,5055,5747,5856,7218,8779,11288,14093,16672,17423,18861,20779,23967,28117,32133,38506,33939,37156,43989,46213,50152,62357,67389,67827,61208,64261,76723,78522,79165,86875,82038,74738,76305,83414,88926,90100,98139,86127,76995,76789,80539,87853,88088,91150,85385,79417,83314,82398,84758,89170,97223,91940,76006,71773,79346,89145,89307,95305,83102,82862,81460,84427,97427,97347,97346,89168,80834,73931,89583,92753,98441,103052,97585,84704,92372,99549,106100,109401,110407,103380,98860,92346,95479,110096,120480,129655,127416,111659,103815,120564,124043,134132,133911,131638,117287,110426,125218,140295,141970,145234,138226,126858,129014,149142,151297,146066,186627,162718,134857,143462,169229,180082,186469,199693,184291,168545,163311,183743,203956,216369,219641,200693,180379,177002,216450,220955,231057,242933,222934,202371,196869,228127,241921,254329,245967,232653,223441,205744,246916,286411,280732,294087,268300,224637,218593,256410,296511,291475,295863,264710,225340,202441,260614,278418,287906,288182,276302,227345,220332,274742,294942,291346,294837,270915,221811,205049,265497,280921,277146,269569,272876,217630,219652,262978,282821,282478,294885,269800,230909,250686,268666,293561,294370,312438,282232,244214,206991,252717,295276,307567,324632,296320,257603,251044,290004,312839,319100,329175,304913,259873,239277,288264,318253,320711,330714,307205,263122,239126,296164,323226,327602,333643,305535,261475,273272,318353,353854,362947,366356,379514,296325,276283,326084,389068,405907,420986,404083,350570,338950,398070,449389,487610,497228,486922,436434,402294,474649,521038,551580,576983,514022,475514,455022,506476,577111,627608,630343,642503,509258,473140,573528,630332,654522,664632,615931,523358,493412,579736,623941,666799,671316,619794,529814,527531,577867,645629,626886,611590,604183,530996,489824,594198,648997,696433,697344,655563,555469,518213,617352,665213,705065,716068,666998,558357,528735,612666,728762,740287,723914,650635,570915,536052,628601,700853,700405,548737,473386,452535,498911,648130,743027,766499,652298,576481,546537,561927,724971,813834,847045,849724,775704,652134,590210,690438,749451,755831,767527,683491,563787,480839,596823,666142,655096,644289,605785,488264,439178,535884,591515,601565,586637,533613,421003,391842,457423,487395,509927,498251,444028,366147,320270,390654,443472,445767,429401,388772,306296,264310,346330,397833,403210,413756,388999,319752,286129,379537,445138,449660,437572,398844,323342,295062,372444,447055,451063,454783,415343,380823,292734,394774,469442,482823,495239,454649,379029,336912,456664,535459,553079,558921,520031,438726,424613,505628,591445,635110,634756,596363,504848,457007,549862,647051,707053,653059,568882,554221,480642,633093,690308,747205,792153,724005,655873,583572,744500,813477,843739,837765,806458,733021,656450,830561,888277,890103,901644,847070,748153,671395,837733,892679,903789,877176,819055,699232,669264,785462,850059,860952,842114,798421,668343,607808,717315,757064,748009,700277,649195,551759,535898,618166,664831,657352,625333,586106,490595,444718,526116,563369,538376,511220,502595,416393,367840,450806,492921,477341,422280,411930,340366,315391,365119,424503,439006,417172,383082,311071,303830,374107,402539,391845,406286,369490,305862,281748,378991,436126,407575,414464,383117,324067,320101,385388,400083,435765,442556,402182,355286,349734,437414,466379,491041,499166,451572,403684,403995,518112,560926,570395,570804,529597,497751,437800,524363,569389,575849,587198,548870,497730,467861,608706,669668,678521,657194,599500,549988,504420,629909,699932,718726,711774,645309,573147,526838,662597,710355,727120,738752,652368,568024,534738,677506,711750,750156,727866,643398,568308,529542,683212,741773,740676,730983,646480,565364,538808,643223,690525,698251,684232,590059,544277,502229,544094,616524,633110,613896,557546,490671,451471,528207,579470,589123,580083,499248,430630,414531,488133,537108,528036,516285,446175,401065,385202,441440,495880,504350,484248,413977,359973,349705,425690,461816,473855,456539,400038,355605,334899,405042,449534,456864,444411,395544,350034,355062,425450,461666,475363,466007,422089,364844,343299,442774,484103,492848,478624,432683,374188,365055,409796,491713,529550,515201,466277,394652,390599,483233,555675,566476,542603,493099,418407,433238,520654,602496,628192,606366,559281,462653,474895,592158,644012,640922,622986,544720,465522,482383,618047,689960,722064,718933,620320,512960,495944,636062,694891,693769,688347,605044,525660,485710,648810,735672,752656,754938,682644,589298,583139,782155,930640,1026910,1020714,927689,697978,824443,1325267,1668284,1958363,1961483,1856355,1307682,1485008,2244051,2645989,2764109,2827757,2744411,2510166,2256217,2967322,3314345,3378398,3365956,2990131,2674495,2439360,3275546,3683151,3801941,3794464,3468237,2864160,2508449,3546317,3695140,3719982,3573807,3070573,2471656,2334213,3130098,3143158,3188760,3022575,2451731,2081722,1883222,2650712]           ;
			
var holidaysList=[];


var dvHWS=[];
var dsHolidays=[];
var dsHolidaysWeeks=[];

var countryName = 'WORLDWIDE';
//<br> Update: ' +   new Date(document.lastModified);







</script>



<div align="center" id="tableForecast"></div>

<div align="center">
Forecast (days)       <input id="pred"      name="pred"       type="number" size="3" value="14" min="7"  max="42" step="7"  >
Back days (data use)  <input id="calcRange" name="calcRange"  type="number" size="3" value="42" min="14" max="42" step="7"  >

<label for="autoSet">Auto</label>
<input id="autoSet" name="autoSet"  type="checkbox" value="on">

<input type="button" id="rebuild" value="Reset" 
onclick="
    mm = buildChart2(parseInt(document.getElementById('calcRange').value),parseInt(document.getElementById('pred').value));
	    showDataTable(buildTimeDataSet(dailyCases,startDate,parseInt(document.getElementById('pred').value)),dailyCases,dvHWS,dailyCases.length-1,dsHolidays);
  " >

RMSE(N)<input id="rmse" name="rmse" type="text" size="3" value="0" disabled >

</div>

<div>
  <script>
    mm = buildChart2(parseInt(document.getElementById('calcRange').value),parseInt(document.getElementById('pred').value));
      showDataTable(buildTimeDataSet(dailyCases,startDate,parseInt(document.getElementById('pred').value)),dailyCases,dvHWS,dailyCases.length-1,dsHolidays);
  </script>
</div>

   

<script type="text/javascript">



</script> 


</body>
</html>
