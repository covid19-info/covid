<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Cases GLOBAL</title>

		<style type="text/css">
.highcharts-figure, .highcharts-data-table table {
    min-width: 360px; 
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}

		</style>
	</head>
	<body>

<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/custom/world-palestine-lowres.js"></script>



<script src="highcharts.js"></script>
<script  src="./PolynomialRegression.js"></script>

<script src="big.js"></script>
<script src="ssci.js"></script>
<script src="lib_covid.js"></script>

<script src="customEvents.js"></script>

<figure class="highcharts-figure">

 <div id="container_map"></div>
    <div id="container"></div>


  	
    <p class="highcharts-description">
        
    </p>
</figure>




<script type="text/javascript">



// Create the chart

function buildChartMap() {

fc = Highcharts.mapChart('container_map', {
    chart: {
        map: 'custom/world-palestine-lowres',
        borderWidth: 0
    },

    title: {
        text: 'Covid trends by country'
    },
    
    subtitle: {
        text: 'Click by highlight country for detail forecast'
    },
    
    legend: {
        enabled: false
    },
    credits: {
            enabled: false
    },
    mapNavigation: {
        enabled: true,
        buttonOptions: {
            verticalAlign: 'bottom'
        }
    },

    plotOptions: {
    series: {
      events: {
        click: function(e) {
	  if (e.target.point.options.value==1) {	
            const url = e.target.point.options['hc-key']+".html";
            console.log(e.target.point);
            location.href= url;
	    }
	  }
        }
      }
    },

    series: [{
        name: 'Country',
        data: [
            ['us', 1],
            ['ru', 1],
            ['ua', 1],
            ['pl', 1],
            ['br', 1],
	    ['ae', 1],
	    ['tn', 1],
	    ['id', 1],
	    ['il', 1]
		
        ],
        dataLabels: {
            enabled: true,
            color: '#FFFFFF',
            formatter: function () {
                if (this.point.value) {
                    return this.point.name;
                }
            }
        },
        tooltip: {
            headerFormat: '',
            pointFormat: '{point.name}'
        }
    }]
});

 return fc;
};


 mm= buildChartMap();



	


var dstime=[];
startDate= "2020-01-22";
var dailyCases =                                    [null,271,475,701,787,1784,1479,1764,2016,2137,2626,2857,3253,3927,3728,3184,3453,2685,3004,2569,2057,14180,5174,2682,2132,2158,2031,1880,534,1034,1058,1038,628,993,861,1136,1459,1818,2205,2634,2614,3305,3166,4320,5051,5742,5849,7212,8774,11279,14134,16681,17382,18853,20774,23930,28089,32148,38406,34015,37136,43880,46161,49920,62540,67227,67693,61247,64377,76171,78212,79302,86630,82068,74465,76085,83302,89040,89829,98000,85702,76602,76504,80162,87564,87686,90751,85278,79109,83133,82160,84561,89023,97141,91625,75737,71538,79176,88993,89027,95554,82921,82691,81349,84327,97226,97023,97213,88958,80615,73817,89464,92673,98429,102807,97556,84463,92288,99406,106042,109369,110217,103183,98721,92285,95576,110084,120481,129537,127153,111596,103737,120629,124015,134212,133900,131371,117341,110344,125012,140169,141991,145260,137929,126860,128878,148969,151357,146159,186564,162433,134760,143643,169277,180171,186479,199540,184257,168483,163587,183509,204082,216235,219268,200685,180668,176917,216276,221031,231047,242959,222730,202094,197072,228350,241940,254240,245917,232434,223425,205943,246760,286378,280730,294136,267965,224448,219055,256207,296488,291450,295680,264414,224735,202904,260891,278431,287853,287701,276465,226993,220601,274672,294892,291449,294546,270665,221516,205281,265502,280841,277035,269281,272499,217411,219800,262925,282780,282294,294805,269487,230514,250895,268550,293553,294263,312294,281893,243972,206616,252901,295350,307416,324333,295938,257205,251300,289820,312780,318837,328920,304335,259531,239448,287982,318264,320217,329852,306472,262550,239328,295720,322792,327060,333131,304687,260760,273119,317671,353334,361996,365498,378524,295184,275897,325715,388123,405015,420164,402857,349408,338519,397027,448100,486473,496261,485261,435120,401783,473503,519831,550420,575705,512512,473869,454583,505357,576135,625992,629299,640317,507718,472990,572491,628175,653780,663533,613110,521923,492889,578573,622573,666113,669906,617685,527782,529124,575312,644783,623757,610652,602149,529519,490858,593347,647983,693606,696470,653220,553169,520186,613864,662774,702958,714064,665126,554415,527792,610575,728312,738143,721284,646822,566450,536096,625333,698250,697112,542960,472783,449901,497319,644487,739249,762927,646492,570591,545058,559279,721659,808808,843828,844998,771661,645063,590208,688007,745886,752938,763588,679179,561008,477334,596615,664024,652783,641248,603411,484445,438878,534996,589867,600651,583991,531608,418161,391723,456714,486575,507956,497134,442399,363414,321054,389972,442159,444533,428473,387802,305023,262999,346833,397383,402486,412564,388166,318405,286127,379220,444412,449093,436884,398165,322091,295188,372420,446246,450691,454206,414706,379750,292892,394664,468953,482402,494478,454174,378051,337075,456331,535088,552488,558492,519334,437686,424187,506077,591090,634882,634381,595712,503552,457284,549659,646780,706921,652616,568551,552833,481318,632746,690102,746818,792104,723571,654460,584775,743823,813178,843422,837516,806135,731053,657141,830774,887867,889736,901888,846492,746705,672353,837636,892598,904137,876706,818253,697749,670483,785711,850116,860330,841775,798177,667080,608623,717583,756556,748025,700927,648783,550283,535957,618108,664705,657142,625430,584705,491131,445500,525466,563004,538440,510627,502622,415409,367749,450890,492729,477172,421829,411526,339954,315188,365053,424054,438663,416576,382556,310572,303517,373757,402061,391020,405676,368846,305182,281444,378381,434869,406689,413561,382068,323315,319098,384417,398765,434323,441102,400790,353952,348359,436087,464808,489267,497199,449529,401919,402498,515424,558578,567681,567855,526662,495024,435654,521729,566844,573337,584720,546544,495886,466399,607096,667866,676179,655248,597382,548532,502831,627350,694677,716754,708910,642911,571161,525225,661320,708474,724087,735731,649334,565849,533210,675470,710111,747017,724857,640102,565778,527768,681471,738896,737931,728664,643217,562780,537277,640976,688207,696089,680913,586298,541658,500037,542495,614910,630418,610807,554736,488863,449889,526756,577568,587489,577443,496148,428790,412959,486825,534788,526047,514101,443694,398857,383481,439866,493620,502216,482163,411243,358446,348182,424002,459526,471470,454409,397448,353534,333084,403297,447489,454506,441935,392698,347727,353170,423530,459258,472467,463237,419157,362365,341312,441046,481985,490301,475934,430162,372019,363419,407965,489344,527253,512989,463837,392932,389345,481395,553719,564099,539992,490421,416453,431169,518504,601091,624566,604496,556607,461634,472280,589419,642158,637116,619884,543352,463889,480312,615713,687855,718665,715145,617720,510409,492724,634090,693208,690377,684783,601980,523147,483336,644789,731196,746506,749092,677282,585508,578353,778218,923483,1020266,1011849,916901,690286,823878,1312974,1656875,1945969,1946941,1838436,1295462,1477094,2230156,2630925,2745089,2814839,2730781,2489224,2237086,2938568,3299953,3373607,3371636,2974379,2661205,2426622,3260020,3610097,3757218,3702285]           ;
			
var holidaysList=[];


var dvHWS=[];
var dsHolidays=[];
var dsHolidaysWeeks=[];

var countryName = 'WORLDWIDE';
//<br> Update: ' +   new Date(document.lastModified);







</script>



<div align="center" id="tableForecast"></div>

<div align="center">
Forecast (days)       <input id="pred"      name="pred"       type="number" size="3" value="14" min="7"  max="42" step="7"  >
Back days (data use)  <input id="calcRange" name="calcRange"  type="number" size="3" value="42" min="14" max="42" step="7"  >

<label for="autoSet">Auto</label>
<input id="autoSet" name="autoSet"  type="checkbox" value="on">

<input type="button" id="rebuild" value="Reset" 
onclick="
    mm = buildChart2(parseInt(document.getElementById('calcRange').value),parseInt(document.getElementById('pred').value));
	    showDataTable(buildTimeDataSet(dailyCases,startDate,parseInt(document.getElementById('pred').value)),dailyCases,dvHWS,dailyCases.length-1,dsHolidays);
  " >

RMSE(N)<input id="rmse" name="rmse" type="text" size="3" value="0" disabled >

</div>

<div>
  <script>
    mm = buildChart2(parseInt(document.getElementById('calcRange').value),parseInt(document.getElementById('pred').value));
      showDataTable(buildTimeDataSet(dailyCases,startDate,parseInt(document.getElementById('pred').value)),dailyCases,dvHWS,dailyCases.length-1,dsHolidays);
  </script>
</div>

   

<script type="text/javascript">



</script> 


</body>
</html>
